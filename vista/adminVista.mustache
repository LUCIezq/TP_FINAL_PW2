<div class="admin-container">

    <!--       SIDEBAR ADMIN       -->
    <aside class="admin-sidebar">
        <h2 class="sidebar-title">ADMIN</h2>

        <ul class="sidebar-menu">
            <li><a href="/admin/index" class="active"> Dashboard</a></li>
            <li><a href="/editor/index"> Gesti贸n de Preguntas</a></li>
            <li><a href="/login/logout"> Cerrar sesi贸n</a></li>
        </ul>
    </aside>

    <!--        MAIN CONTENT       -->
    <main class="admin-main flex-fill">
        <div class="content-wrapper">

            <h1 class="dashboard-title">Panel Administrativo</h1>

            <!-- FILTROS -->
            <div class="filter-bar">
                <label for="filtroPeriodo">Filtrar por:</label>
                <select id="filtroPeriodo">
                    <option value="dia">Hoy</option>
                    <option value="semana">ltima semana</option>
                    <option value="mes">ltimo mes</option>
                    <option value="anio">ltimo a帽o</option>
                </select>
            </div>

            <!--           KPIs            -->
            <div class="kpi-grid">

                <div class="kpi-card">
                    <h4>Usuarios Registrados</h4>
                    <p>{{totalUsuarios}}</p>
                </div>

                <div class="kpi-card">
                    <h4>Partidas Jugadas</h4>
                    <p>{{totalPartidas}}</p>
                </div>

                <div class="kpi-card">
                    <h4>Preguntas Aprobadas</h4>
                    <p>{{totalPreguntas}}</p>
                </div>

                <div class="kpi-card">
                    <h4>Preguntas de Usuarios</h4>
                    <p>{{totalPreguntasUsuarios}}</p>
                </div>

            </div>

            <!--         GRFICOS          -->

            <div class="charts-grid">

                <div class="chart-box">
                    <h3>Usuarios por Pa铆s</h3>
                    <canvas id="chartPais"></canvas>
                </div>

                <div class="chart-box">
                    <h3>Distribuci贸n por Sexo</h3>
                    <canvas id="chartSexo"></canvas>
                </div>

                <div class="chart-box">
                    <h3>Distribuci贸n por Edad</h3>
                    <canvas id="chartEdad"></canvas>
                </div>

                <div class="chart-box">
                    <h3>% de Respuestas Correctas por Usuario</h3>
                    <canvas id="chartPrecision"></canvas>
                </div>

            </div>

        </div>
    </main>

</div>

<!-- SCRIPTS -->

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    window.dataPais = {{{usuariosPorPais}}};
    window.dataSexo = {{{usuariosPorSexo}}};
    window.dataEdad = {{{usuariosPorEdad}}};
    window.dataPrecision = {{{porcentajeCorrectasPorUsuario}}};
</script>

<script src="/public/js/adminDashboardCharts.js"></script>
