<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Preguntados</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Reutilizamos el CSS del login/register -->
  <link href="/public/assets/register.css" rel="stylesheet">
  <!-- CSS de esta pantalla -->
  <link href="/public/assets/home.css" rel="stylesheet">

  <!-- Fuente estilo caricatura -->
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
</head>

<body>

  <main class="container my-4">
    <h2 class="brand-title text-center">Questify</h2>
    {{#solicitud_errors}}
    <div class="alert alert-danger" role="alert">
      <span class="mb-0">
        {{.}}
      </span>
    </div>
    {{/solicitud_errors}}

    {{#solicitud_success}}
    <div class="alert alert-success" role="alert">
      {{solicitud_success}}
    </div>
    {{/solicitud_success}}


    <div class="container my-5">

      <div class="grid-home">
        <section class="panel-sky shadow-sm">

          <header class="panel-sky__header">
            <span class="panel-sky__title">Juego</span>
          </header>

          <ul class="panel-sky__list w-100">
            <li
              class="sky-item text-center py-4 w-full d-flex gap-2 flex-column align-items-center justify-content-center">
              <h3 class="mb-4">Â¡Bienvenido a Questify!</h3>

              <a href="/game/ruleta"
                class="btn btn-primary btn-lg d-inline-flex align-items-center gap-2 rounded-pill shadow-sm"
                role="button" aria-label="Jugar Ruleta">
                <span class="fs-5">ğŸ¡</span>
                <span class="fw-semibold">Jugar</span>
              </a>
            </li>
          </ul>

        </section>

        <section class="panel-sky shadow-sm">
          <header class="panel-sky__header">
            <span class="panel-sky__title">ğŸ† Ranking por Promedio</span>
          </header>

          <ul class="panel-sky__list">

            {{#ranking}}

            <a href="/usuario/perfil/{{usuario_id}}" style="text-decoration: none;">
              <li class="sky-item ranking-item">

                <div class="sky-item__avatar">
                  <img src="{{foto_perfil}}" alt="{{nombre}}">
                </div>

                <div class="sky-item__body">
                  <div class="sky-item__title">
                    {{indice}}Â° â€” {{nombre}} {{apellido}}
                  </div>
                  <div class="text-muted">
                    Promedio: <strong>{{ratio}} %</strong>
                  </div>
                </div>

              </li>
            </a>

            {{/ranking}}

            {{^ranking}}
            <li class="sky-empty">No hay datos aÃºn.</li>
            {{/ranking}}

          </ul>
        </section>

      </div>

      <div class="mt-3">
        <a href="/preguntas/index" class="btn btn-outline-primary btn-lg btn-create">
          <i class="bi bi-plus-circle"></i> Sugerir preguntas
        </a>
      </div>

      <form action="/solicitudPartida/crearSolicitudPartida" method="POST" class="form-desafiar">
        <input type="hidden" name="destinatario_id" id="destinatario_id">
      </form>
    </div>
  </main>

  <script src="/public/js/SaveUserId.js"></script>
</body>

</html>